<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div style="text-align: center">
      <button id="directionbutton" onclick="start()">start</button>
      <button id="directionbutton">pause</button>
      <button id="directionbutton">restart</button>
    </div>
    <div id="background"></div>
    <div style="text-align: center">
      <button id="directionbutton" onclick="changedirection(`up`)">up</button>
      <button id="directionbutton" onclick="changedirection(`down`)">
        down
      </button>
      <button id="directionbutton" onclick="changedirection(`left`)">
        left
      </button>
      <button id="directionbutton" onclick="changedirection(`right`)">
        right
      </button>
    </div>
    <script>
      let headtop = 10;
      let headleft = 12;
      let direction = "up";
      let IntervalId = null;

      const config = {
        size: 20,
        width: 30,
        height: 20,
      };

      const boardEl = document.getElementById("background");
      boardEl.style.width = config.width * config.size + "px";
      boardEl.style.height = config.height * config.size + "px";

      function goUp() {
        headtop = headtop - 1;
        if (headtop < 0) {
          headtop = config.height - 1;
        }
        render();
      }

      function goDown() {
        headtop = headtop + 1;

        if (headtop === config.height) {
          headtop = 0;
        }
        render();
      }

      function changedirection(newdirection) {
        if (direction === "up" || direction === "down") {
          direction = newdirection;
        } else if (direction === "right" || direction === "left") {
          if (newdirection === "up" || newdirection === "down") {
            direction = newdirection;
          }
          direction = newdirection;
        }
      }

      function goRight() {
        headleft = headleft + 1;
        if (headleft === config.width) {
          headleft = 0;
        }
        render();
      }
      function start() {
        if (!IntervalId) {
          IntervalId = setInterval(gameLoop, 100);
        }
      }
      function goleft() {
        headleft = headleft - 1;
        if (headleft < 0) {
          headleft = config.width - 1;
        }
        render();
      }

      function gameLoop() {
        switch (direction) {
          case "up":
            goUp();
            break;

          case "right":
            goRight();
            break;
          case "down":
            goDown();
            break;
          case "left":
            goleft();
            break;
        }
      }

      function render() {
        const snakeHtml = `
        <div class="snake" style="width: ${1 * config.size}px;${
          1 * config.size
        }px;top:${headtop * config.size}px;left:${
          headleft * config.size
        }px"></div>

        `;
        boardEl.innerHTML = snakeHtml;
      }
      render();
      addEventListener("keydown", (keydown) => {});

      onkeydown = (event) => {};
      onkeydown = (event) => {};
    </script>
  </body>
</html>
